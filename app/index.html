<!doctype html>
<html lang="">

<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>poly foo</title>
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

  <!-- build:css /styles/main.css -->
  <link rel="stylesheet" href="/styles/main.css">
  <!-- endbuild-->

  <!-- build:js /bower_components/webcomponentsjs/webcomponents.min.js -->
  <script src="/bower_components/webcomponentsjs/webcomponents.js"></script>
  <!-- endbuild -->

  <!-- will be replaced with /elements/elements.vulcanized.html -->
  <link rel="import" href="/elements/elements.html">
  <!-- endreplace-->
</head>

<body unresolved fullbleed layout vertical>
  <template is="auto-binding" id="app">

    <core-drawer-panel>

      <!-- Drawer -->
      <core-header-panel drawer>

        <!-- Drawer Toolbar -->
        <core-toolbar>Menu</core-toolbar>

        <!-- Drawer Content -->
        <core-menu selected="0">
          <!-- <core-item label="Yo"></core-item>
          <core-item label="Polymer"></core-item>
          <core-item label="App"></core-item> -->
          <button on-click="{{addParent}}">Add Parent</button>
        </core-menu>

      </core-header-panel>

      <!-- Main -->
      <core-header-panel main>

        <!-- Main Toolbar -->
        <core-toolbar>
          <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>
          <span>{{appName}}</span>
        </core-toolbar>

        <!-- Main Content -->
        <div class="parent-list">
          <h3>Parents</h3>
          
          <template repeat="{{ parent in parents }}">

          <div class="parent">
            <p class="parents-name"><span on-click="{{parentClick}}">{{ parent.doc.name }}</span><button class="pull-right" on-click="{{deleteParent}}">X</button></p>
            <p>Children: 
              <template repeat="{{ child in parent.doc.children }}"><span class="child">{{ child.name }}</span></template>
            </p>
          </div>
            
          </template>
          
        </div>

        <div class="active-parent">
          <h3>Edit Parent:</h3>
          <div class="group"><label>Name: </label> <input type="text" id="parentName" value="{{ parent.doc.name }}"></input></div>
          <div class="group"><label>Date of Birth: </label> <input type="text" id="parentBirth" value="{{ parent.doc.birth }}"></input></div>
          <div class="group"><label>Gender: </label> <input type="text" id="parentGender" value="{{ parent.doc.gender }}"></input></div>
          <h3>Edit Children:</h3>
          <template repeat="{{ child in parent.doc.children }}">
            <!-- <div class="child-edit">{{ child.name }}</div> -->
            <div class="child-group">
              <div class="group"><label>Name: </label> <input type="text" value="{{ child.name }}"></input><button class="pull-right" on-click="{{deleteChild}}">X</button></div>
              <div class="group"><label>Date Of Birth: </label> <input type="text" value="{{ child.birth }}"></input></div>
            </div>
          </template>

          <button on-click="{{saveParent}}">Save Parent</button>
        </div>

      </core-header-panel>
    </core-drawer-panel>

  </template>

  <script src="//cdn.jsdelivr.net/pouchdb/3.3.1/pouchdb.min.js"></script>

  <!-- build:js /scripts/app.js -->
  <script src="/scripts/app.js"></script>
  <!-- endbuild-->
</body>

</html>
